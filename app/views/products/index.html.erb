<p id="notice"><%= notice %></p>
<h1 xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"

    xmlns="http://www.w3.org/1999/html">Listing products</h1>

<table>
  <tr>
    <th>Make</th>
    <th>Description</th>


  </tr>

<% @products.each do |product| %>
      <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
        <td>
          <%= image_tag(product.image_url, class: 'list_image') %>
        </td>
        <td class="list_description">
          <dl>
            <dt><%= product.make %></dt>
            <dd><%= truncate(strip_tags(product.description),
                             length: 80) %></dd>
          </dl>
        </td>

        <td class="list_actions">
    <%= link_to 'Show', product %></br>
    <%= link_to 'Edit', edit_product_path(product) %> <br/>
    <%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>

        <td><%= button_to 'Add to Cart', line_items_path(:product_id=> product) %></td>
      </tr>
<% end %>
</table>
<%= form_tag products_path, :method => 'get' do %>
    <p>
      <%= text_field_tag :search_query,params[:search_query] %>
      <%= submit_tag "Search", :name => nil %>
    </p>
<% end %>
<br />
<%= link_to 'New product', new_product_path %>

